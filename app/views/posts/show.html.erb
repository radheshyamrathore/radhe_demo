<%= link_to "back", article_path(@article), class:"btn btn-success"%>
<body style="background-color:lightyellow;">
<h1>Post</h1>
<ul>
  <h2><%= @post.title %></h2>
  <h6><%= @post.description %></h6>
</ul>
<% if current_user.role == 'admin' || @post.user_id == current_user.id  %>
  <pre>
    <%= link_to "Edit" ,edit_article_post_path(@article, @post), class:"btn btn-primary" %>  <%= link_to "Destroy", article_post_path(@article, @post), class:"btn btn-danger", data: {
                      turbo_method: :delete,
                      turbo_confirm: "Are you sure for delete article?"
                    } %>
  </pre>
<% end %>

<h3>Comments</h3>
<a style = "color: blue" ><h4>no.of comments- <%= @post.comments.count %></h4></a>
<% @post.comments.each do |comment| %>
  <ul>
    <h4 style = "color: green"><%= comment.user.name %></h4>
    <h6><%= comment.description %></h6>
    <% if comment.user_id == current_user.id %>
      <%= link_to "Destroy", article_post_comment_path(@article, @post, comment),class:"btn btn-danger", data: {
                    turbo_method: :delete,
                    turbo_confirm: "Are you sure for delete article?"
                  } %>
    <% end %>
  </ul>
<% end %>

<h3>Add a comment:</h3>
<div class="container", style="float: left; width:550px;">
  <%= form_with model: [@article, @post, @post.comments.build ] do |form| %>
    <p>
      <%= form.label :desciption, class:"form-label" %> <br>
      <%= form.text_area :description, class:"form-control" %>
    </p>
    <p>
      <%= form.submit %>
    </p>
  <% end %>
</div>
</body>
